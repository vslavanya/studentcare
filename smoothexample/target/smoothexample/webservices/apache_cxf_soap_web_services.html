<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name=viewport content="width=device-width, initial-scale=1">
<!-- TemplateBeginEditable name="doctitle" -->
<title>Apache CXF Soap Web Service Tutorial</title>
<!-- TemplateEndEditable -->
<!-- TemplateBeginEditable name="head" -->
<!-- TemplateEndEditable -->
<!-- 
<link rel="stylesheet" href="C:\Users\archana\Documents\Lals\Lals\css\style.css" type="text/css">

 -->
<link rel="stylesheet" href="../css/style.css" type="text/css">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87281095-1', 'auto');
  ga('send', 'pageview');

</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9743223135686239",
    enable_page_level_ads: true
  });
</script>


</head>

<body class="thrColHybHdr">
  <!-- ---------------------------------------------------------------------------------------Start #Container--------------------------------------------------------------- -->
<div id="container" bgcolor="#F5F5F5">
<!-- ---------------------------------------------------------------------------------------Start #header--------------------------------------------------------------- -->
  <div id="header">
   <h1 align="center">Apache CXF Soap Web Service Example</h1>
    <table width="403" align="center" bgcolor="#0000FF">
      <tr>
        <td width="100" align="center" valign="middle"><div align="center"><a STYLE="text-decoration:none " href="../index.html"><b><font color="white">Home</font></b></a></div></td>
        <td width="100" align="center" valign="middle"><div align="center"><a STYLE="text-decoration:none " href="../about_us.html"><b><font color="white">About US</font></b></a></div></td>
        <td width="100" align="center" valign="middle"><div align="center"><a STYLE="text-decoration:none " href="../contact_us.html"><b><font color="white">Contact US</font></b></a></div></td>
       
      </tr>
    </table>
  </div>
  
  <!-- ---------------------------------------------------------------------------------------end #header--------------------------------------------------------------- -->
  
   <!-- ---------------------------------------------------------------------------------------start #left--------------------------------------------------------------- -->
  <div id="left">
    <table width="auto" height="auto"  align="left" cellpadding="20" bgcolor=" #66CDAA ">
      
	  <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none "><b><font color="white">Related Topics</font></b></a> </td>
		</font>
      </tr>
      <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_rest_web_services.html">Rest Web Services - Apache CXF </a> </td>
		</font>
      </tr>
       <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_rest_web_services_client.html">Rest Web Services Client- Apache CXF</a> </td>
		</font>
      </tr>
      
      </tr>
       <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/rest_angular_js_client.html">Rest Web Services Client- AngularJS</a> </td>
		</font>
      </tr>
      
	  <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_soap_web_services.html">Soap Web Services - Apache CXF </a> </td>
		</font>
      </tr>
	  <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_soap_web_services_client.html">Soap Web Services Client - Apache CXF </a> </td>
		</font>
      </tr>
	    <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../java/jackson_json_parser.html"> JSON Encoding and Decoding </a> </td>
		</font>
      </tr>
      
      <tr>
					<font size="6">
						<td height="5" align="left" valign="middle" bordercolor="#999999"><a
							STYLE="text-decoration: none" href="../java/map.html">
								 Map - Java8 </a></td>
					</font>
				</tr>
				
				<tr>
					<font size="6">
						<td height="5" align="left" valign="middle" bordercolor="#999999"><a
							STYLE="text-decoration: none" href="../java/set.html">
								 Set - Java8  </a></td>
					</font>
				</tr>
				
				<tr>
					<font size="6">
						<td height="5" align="left" valign="middle" bordercolor="#999999"><a
							STYLE="text-decoration: none" href="../java/list.html">
								 List - Java8  </a></td>
					</font>
				</tr>
       
      
    </table>
	</div>
     <!-- ---------------------------------------------------------------------------------------end #left--------------------------------------------------------------- -->
   
    

  
   
  
  <div  id="right">
  
  
  
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- RHS_SKY -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9743223135686239"
     data-ad-slot="4212524405"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<br>
<br>
<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- RHS_SKY -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9743223135686239"
     data-ad-slot="4212524405"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>





</div>

<!-- ---------------------------------------------------------------------------------------end #right--------------------------------------------------------------- -->


<!-- ---------------------------------------------------------------------------------------Start #Center--------------------------------------------------------------- -->
  
  <div id="center" font="sans-serif" style="font-size:25px">
  
<p1> This example explains how to implement a <b>Soap Web Service</b> using Apache CXF.


 <br>
 <br>

Following are the configuration and implementation details used in this example. </p1>

<br>



<p2>
<a href="#pom"> pom.xml</a><br>
<a href="#web"> web.xml</a><br>
<a href="#ApplicationContext-cxf">ApplicationContext-cxf.xml</a><br>
<a href="#Address">Address.java</a><br>
<a href="#AddressWebService">AddressWebService.java</a><br>
<a href="#AddressWebServiceImpl">AddressWebServiceImpl.java</a><br>
<a href="#WSDL">Generated WSDL</a><br>
<a href="#request"> Sample Request</a><br>
<a href="#response"> Sample Response</a><br>


</p2>

<h3  align="left">Step 1: Create Maven project</h3>

<p1>
Following pom.xml defines the dependencies for this example.
</p1>

<pre>
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	&lt;modelVersion>4.0.0&lt;/modelVersion>
	&lt;groupId>com.lal.pro&lt;/groupId>
	&lt;artifactId>apache-cxf-soap-ws&lt;/artifactId>
	&lt;packaging>war&lt;/packaging>
	&lt;version>0.0.1-SNAPSHOT&lt;/version>
	&lt;name>apache-cxf-soap-ws Maven Webapp&lt;/name>
	&lt;url>http://maven.apache.org&lt;/url>

	&lt;properties>
		&lt;cxf.version>2.5.0&lt;/cxf.version>
		
		&lt;org.springframework.version>4.1.1.RELEASE&lt;/org.springframework.version>
		
		&lt;ch.qos.logback.version>1.1.3&lt;/ch.qos.logback.version>
		&lt;org.sl4j.version>1.7.12&lt;/org.sl4j.version>
		&lt;spring.ws.version>2.2.4.RELEASE&lt;/spring.ws.version>
	&lt;/properties>
	&lt;dependencies>
		
		&lt;dependency>
			&lt;groupId>org.apache.cxf&lt;/groupId>
			&lt;artifactId>cxf-rt-frontend-jaxws&lt;/artifactId>
			&lt;version>${cxf.version}&lt;/version>
		&lt;/dependency>
		&lt;dependency>
			&lt;groupId>org.apache.cxf&lt;/groupId>
			&lt;artifactId>cxf-rt-transports-http&lt;/artifactId>
			&lt;version>${cxf.version}&lt;/version>
		&lt;/dependency>
	

		&lt;dependency>
			&lt;groupId>javax.xml.bind&lt;/groupId>
			&lt;artifactId>jaxb-api&lt;/artifactId>
			&lt;version>2.1&lt;/version>
		&lt;/dependency>

	&lt;/dependencies>
	&lt;build>
		&lt;finalName>apache-cxf-soap-ws&lt;/finalName>
	&lt;/build>
&lt;/project>
</pre>

<p1>Make sure your soap web service is running and </p1>


<a name="web"></a>
<h3 align="left" >Step 2: Create web.xml</h3>


<p1>Following web.xml must be placed at "/apache-cxf-rest-ws/src/main/webapp/WEB-INF/".</p1>

<pre>&lt;!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" >

&lt;web-app>
	&lt;display-name>CXF&lt;/display-name>


	&lt;context-param>
		&lt;param-name>contextConfigLocation&lt;/param-name>
		&lt;param-value>classpath:ApplicationContext-cxf.xml&lt;/param-value>
	&lt;/context-param>

	&lt;listener>
		&lt;listener-class>
			org.springframework.web.context.ContextLoaderListener
		&lt;/listener-class>
	&lt;/listener>

	&lt;servlet>
		&lt;servlet-name>CXFServlet&lt;/servlet-name>
		&lt;display-name>CXF Servlet&lt;/display-name>
		&lt;servlet-class>
			org.apache.cxf.transport.servlet.CXFServlet
		&lt;/servlet-class>
		&lt;load-on-startup>1&lt;/load-on-startup>
	&lt;/servlet>

	&lt;servlet-mapping>
		&lt;servlet-name>CXFServlet&lt;/servlet-name>
		&lt;url-pattern>/*&lt;/url-pattern>
	&lt;/servlet-mapping>
&lt;/web-app>


</pre>

<a name="ApplicationContext-cxf"></a>
<h3 align="left" style="font-size:30px">Step 3: Create ApplicationContext</h3>
<p1>
In the following xml we can define the beans, also group the web services and specify In and out interceptors. Place this xml file at /apache-cxf-soap-ws/src/main/resources/. Make sure it is added in your web.xml.
</p1>


<pre>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:jaxws="http://cxf.apache.org/jaxws" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:cxf="http://cxf.apache.org/core" xmlns:task="http://www.springframework.org/schema/task"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
	 http://www.springframework.org/schema/beans/spring-beans.xsd http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
	 http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd">


	&lt;import resource="classpath:META-INF/cxf/cxf.xml"/>
&lt;import resource="classpath:META-INF/cxf/cxf-extension-xml.xml"/>
&lt;import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />

	&lt;task:annotation-driven />

	&lt;context:component-scan base-package="com.smoothexample">
		&lt;context:include-filter type="annotation"
			expression="org.springframework.stereotype.Service" />
		&lt;context:include-filter type="annotation"
			expression="org.springframework.stereotype.Component" />
		&lt;context:include-filter type="annotation"
			expression="org.springframework.stereotype.Repository" />
	&lt;/context:component-scan>

	&lt;context:annotation-config />
	&lt;context:component-scan base-package="com.smoothexample" />

	
	&lt;bean
		class="org.springframework.context.annotation.CommonAnnotationBeanPostProcessor" />
		

&lt;bean id="addressSoapService" class="com.smoothexample.cxf.soap.ws.impl.AddressSoapServiceImpl" />

	&lt;jaxws:endpoint id="addressEndpointId"
		implementorClass="com.smoothexample.cxf.soap.ws.impl.AddressSoapServiceImpl"
		implementor="#addressSoapService" address="/addressSoapService">
		
	&lt;/jaxws:endpoint>

&lt;/beans>   
</pre>

<a name="Address"></a>
<h3 align="left" style="font-size:30px">Step 4: Create a data transfer object</h3>
<p1> 
Following DTO can be used in request and response.
</p1>
<pre>
package com.lal.pro.dto;

import javax.xml.bind.annotation.XmlRootElement;

@XmlRootElement
public class Address {
	
	private String streetAddress;
	private String addressOptional;
	private String city;
	private String state;
	private String country;
	private String zip;
	
	public String getStreetAddress() {
		return streetAddress;
	}
	public void setStreetAddress(String streetAddress) {
		this.streetAddress = streetAddress;
	}
	public String getAddressOptional() {
		return addressOptional;
	}
	public void setAddressOptional(String addressOptional) {
		this.addressOptional = addressOptional;
	}
	public String getCity() {
		return city;
	}
	public void setCity(String city) {
		this.city = city;
	}
	public String getState() {
		return state;
	}
	public void setState(String state) {
		this.state = state;
	}
	public String getCountry() {
		return country;
	}
	public void setCountry(String country) {
		this.country = country;
	}
	public String getZip() {
		return zip;
	}
	public void setZip(String zip) {
		this.zip = zip;
	}

}

</pre>

<a name="AddressWebService"></a>
<h3 align="left" style="font-size:30px">Step 5: Define Web Service</h3>

<p1>Following Interface defines the web service</p1>

<pre>

package com.smoothexample.cxf.soap.ws;

import javax.jws.WebService;

import com.smoothexample.dto.Address;

	@WebService(endpointInterface = " com.smoothexample.cxf.soap.ws.AddressSoapService", 
		serviceName = "addressSoapService")
	public interface AddressSoapService {
		public Address getAddress()
				 throws Exception;
		
	}


</pre>




<a name="AddressWebServiceImpl"></a>
<h3 align="left" style="font-size:30px">Step 4: Implement Web Service</h3>



<p1>
Following code snippet shows  the implementaion of  Web Service . It just creates a java object and returns it.
</p1>
<br>
<pre>

package com.smoothexample.cxf.soap.ws.impl;

import com.smoothexample.cxf.soap.ws.AddressSoapService;
import com.smoothexample.dto.Address;

public class AddressSoapServiceImpl implements AddressSoapService {

	public Address getAddress() {

		return createAddress();
	}

	private Address createAddress() {
		Address address = new Address();
		address.setStreetAddress("4800 abc Rd");
		address.setCity("abcd");
		address.setState("NJ");
		address.setCountry("US");
		address.setZip("10001");
		address.setAddressOptional("addressOptional");

		return address;
	}

}


</pre>
<a name="WSDL"></a>
<h3 align="left"> Generated WSDL</h3>
<pre>

&lt;wsdl:definitions xmlns:ns1="http://ws.soap.cxf.smoothexample.com/" xmlns:ns2="http://schemas.xmlsoap.org/soap/http" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="http://impl.ws.soap.cxf.smoothexample.com/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="AddressSoapServiceImplService" targetNamespace="http://impl.ws.soap.cxf.smoothexample.com/">
&lt;wsdl:import location="http://localhost:8080/apache-cxf-soap-ws/addressSoapService?wsdl=AddressSoapService.wsdl" namespace="http://ws.soap.cxf.smoothexample.com/">&lt;/wsdl:import>
&lt;wsdl:binding name="AddressSoapServiceImplServiceSoapBinding" type="ns1:AddressSoapService">
&lt;soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
&lt;wsdl:operation name="getAddress">
&lt;soap:operation soapAction="" style="document"/>
&lt;wsdl:input name="getAddress">
&lt;soap:body use="literal"/>
&lt;/wsdl:input>
&lt;wsdl:output name="getAddressResponse">
&lt;soap:body use="literal"/>
&lt;/wsdl:output>
&lt;wsdl:fault name="Exception">
&lt;soap:fault name="Exception" use="literal"/>
&lt;/wsdl:fault>
&lt;/wsdl:operation>
&lt;/wsdl:binding>
&lt;wsdl:service name="AddressSoapServiceImplService">
&lt;wsdl:port binding="tns:AddressSoapServiceImplServiceSoapBinding" name="AddressSoapServiceImplPort">
&lt;soap:address location="http://localhost:8080/apache-cxf-soap-ws/addressSoapService"/>
&lt;/wsdl:port>
&lt;/wsdl:service>
&lt;/wsdl:definitions>

</pre>

<a name="request"></a>
<h3 align="left"> Sample request can be used from postman or soap ui</h3>

<pre>

&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="http://ws.soap.cxf.smoothexample.com/">
   &lt;soapenv:Header/>
   &lt;soapenv:Body>
      &lt;ws:getAddress/>
   &lt;/soapenv:Body>
&lt;/soapenv:Envelope>

</pre>

<a name="response"></a>
<h3 align="left"> Sample Response</h3>

<pre>
&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    &lt;soap:Body>
        &lt;ns2:getAddressResponse xmlns:ns2="http://ws.soap.cxf.smoothexample.com/">
            &lt;return>
                &lt;addressOptional>addressOptional&lt;/addressOptional>
                &lt;city>abcd&lt;/city>
                &lt;country>US&lt;/country>
                &lt;state>NJ&lt;/state>
                &lt;streetAddress>4800 abc Rd&lt;/streetAddress>
                &lt;zip>10001&lt;/zip>
            &lt;/return>
        &lt;/ns2:getAddressResponse>
    &lt;/soap:Body>
&lt;/soap:Envelope>
</pre>
  </div>
  
<!-- ---------------------------------------------------------------------------------------End #Center--------------------------------------------------------------- -->
  <br class="clearfloat" />
 
 <br> 

<!-- ---------------------------------------------------------------------------------------Start  #Footer--------------------------------------------------------------- -->

 <div id="footer">
    <p align="center">&copy; Copyright 2016. All Rights Reserved.</p>
  <!-- end #footer -->
  </div >
  <!-- ---------------------------------------------------------------------------------------End  #Footer--------------------------------------------------------------- -->
  
 
  
  
  </div>
  <!-- ---------------------------------------------------------------------------------------End  #Container--------------------------------------------------------------- -->
   
</body>
</html>

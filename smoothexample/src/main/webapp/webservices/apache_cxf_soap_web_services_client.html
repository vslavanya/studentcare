<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name=viewport content="width=device-width, initial-scale=1">
<!-- TemplateBeginEditable name="doctitle" -->
<title>Apache CXF Soap Web Services Client Tutorial</title>
<!-- TemplateEndEditable -->
<!-- TemplateBeginEditable name="head" -->
<!-- TemplateEndEditable -->
<!-- 
<link rel="stylesheet" href="C:\Users\archana\Documents\Lals\Lals\css\style.css" type="text/css">

 -->
<link rel="stylesheet" href="../css/style.css" type="text/css">


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87281095-1', 'auto');
  ga('send', 'pageview');

</script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9743223135686239",
    enable_page_level_ads: true
  });
</script>

</head>

<body class="thrColHybHdr">
  <!-- ---------------------------------------------------------------------------------------Start #Container--------------------------------------------------------------- -->
<div id="container" bgcolor="#F5F5F5">
<!-- ---------------------------------------------------------------------------------------Start #header--------------------------------------------------------------- -->
  <div id="header">
   <h1 align="center">Consuming a Soap Web Service  - Apache CXF  SOAP Client</h1>
    <table width="403" align="center" bgcolor="#0000FF">
      <tr>
        <td width="100" align="center" valign="middle"><div align="center"><a STYLE="text-decoration:none " href="../index.html"><b><font color="white">Home</font></b></a></div></td>
        <td width="100" align="center" valign="middle"><div align="center"><a STYLE="text-decoration:none " href="../about_us.html"><b><font color="white">About US</font></b></a></div></td>
        <td width="100" align="center" valign="middle"><div align="center"><a STYLE="text-decoration:none " href="../contact_us.html"><b><font color="white">Contact US</font></b></a></div></td>
       
      </tr>
    </table>
  </div>
  
  <!-- ---------------------------------------------------------------------------------------end #header--------------------------------------------------------------- -->
  
   <!-- ---------------------------------------------------------------------------------------start #left--------------------------------------------------------------- -->
  <div id="left">
    <table width="auto" height="auto"  align="left" cellpadding="20" bgcolor=" #66CDAA ">
      
	  <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none "><b><font color="white">Related Topics</font></b></a> </td>
		</font>
      </tr>
      <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_rest_web_services.html">Rest Web Services - Apache CXF </a> </td>
		</font>
      </tr>
       <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_rest_web_services_client.html">Rest Web Services Client- Apache CXF</a> </td>
		</font>
      </tr>
      
      </tr>
       <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/rest_angular_js_client.html">Rest Web Services Client- AngularJS</a> </td>
		</font>
      </tr>
      
	  <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_soap_web_services.html">Soap Web Services - Apache CXF </a> </td>
		</font>
      </tr>
	  <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../webservices/apache_cxf_soap_web_services_client.html">Soap Web Services Client - Apache CXF </a> </td>
		</font>
      </tr>
	    <tr><font size="6">
        <td height="5"  align="left" valign="middle" bordercolor="#999999"><a STYLE="text-decoration:none " href="../java/jackson_json_parser.html"> JSON Encoding and Decoding </a> </td>
		</font>
      </tr>
      
      <tr>
					<font size="6">
						<td height="5" align="left" valign="middle" bordercolor="#999999"><a
							STYLE="text-decoration: none" href="../java/map.html">
								 Map - Java8 </a></td>
					</font>
				</tr>
				
				<tr>
					<font size="6">
						<td height="5" align="left" valign="middle" bordercolor="#999999"><a
							STYLE="text-decoration: none" href="../java/set.html">
								 Set - Java8  </a></td>
					</font>
				</tr>
				
				<tr>
					<font size="6">
						<td height="5" align="left" valign="middle" bordercolor="#999999"><a
							STYLE="text-decoration: none" href="../java/list.html">
								 List - Java8  </a></td>
					</font>
				</tr>
      
	  
      
    </table>
	</div>
     <!-- ---------------------------------------------------------------------------------------end #left--------------------------------------------------------------- -->
   
    

  
   
  
  <div  id="right">
  
  
  
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- RHS_SKY -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9743223135686239"
     data-ad-slot="4212524405"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<br>
<br>
<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- RHS_SKY -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9743223135686239"
     data-ad-slot="4212524405"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


</div>

<!-- ---------------------------------------------------------------------------------------end #right--------------------------------------------------------------- -->


<!-- ---------------------------------------------------------------------------------------Start #Center--------------------------------------------------------------- -->
  
  <div id="center" font="sans-serif" style="font-size:25px">
  
<p1> This example explains how to implement a <b>Soap Web Service Client</b> using Apache CXF. 
Before running this application, please make sure a Soap Web Service is running in your machine and wsdl is available at  <br> 
 <br> 
http://localhost:8080/apache-cxf-soap-ws/addressSoapService?wsdl<br> <br> 

Please refer <b> <a STYLE="text-decoration:none " href="../webservices/apache_cxf_soap_web_services.html">Soap Web Services - Apache CXF </a> </b>for a SOAP Web Service example
 
<br> <br>  Following are the configuration and implementation details used in this example. </p1>

<br>



<p2>
<a href="#pom"> pom.xml</a><br>

<a href="#AddressSoapServiceClient">AddressSoapServiceClient.java</a><br>
<a href="#WSDL">Generated WSDL</a><br>
<a href="#response">response</a><br>


</p2>

<a name="pom"></a>

<h3  align="left">Step 1: Create Maven project</h3>

<p1>
Following pom.xml defines the dependencies for this example.
</p1>

<pre>
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	&lt;modelVersion>4.0.0&lt;/modelVersion>

	&lt;groupId>apache_cxf_soap_client&lt;/groupId>
	&lt;artifactId>com.smoothexample.pro&lt;/artifactId>
	&lt;version>0.0.1-SNAPSHOT&lt;/version>
	&lt;packaging>jar&lt;/packaging>

	&lt;name>apache_cxf_soap_client&lt;/name>
	&lt;url>http://maven.apache.org&lt;/url>
	&lt;properties>
		&lt;org.apache.cxf.version>3.1.3&lt;/org.apache.cxf.version>
		&lt;wsg.url>http://localhost:8080/apache-cxf-soap-ws/addressSoapService?wsdl&lt;/wsg.url>

	&lt;/properties>

	&lt;dependencies>
		&lt;dependency>
			&lt;groupId>org.apache.cxf&lt;/groupId>
			&lt;artifactId>cxf-rt-frontend-jaxws&lt;/artifactId>
			&lt;version>${org.apache.cxf.version}&lt;/version>
		&lt;/dependency>
		&lt;dependency>
			&lt;groupId>org.apache.cxf&lt;/groupId>
			&lt;artifactId>cxf-rt-transports-http&lt;/artifactId>
			&lt;version>${org.apache.cxf.version}&lt;/version>
		&lt;/dependency>
		&lt;dependency>
			&lt;groupId>org.apache.cxf&lt;/groupId>
			&lt;artifactId>cxf-rt-transports-http-hc&lt;/artifactId>
			&lt;!-- 2.7.8 or 3.0.0-milestone1 -->
			&lt;version>3.0.0-milestone1&lt;/version>
		&lt;/dependency>

		&lt;dependency>
			&lt;groupId>org.apache.cxf&lt;/groupId>
			&lt;artifactId>cxf-rt-rs-client&lt;/artifactId>
			&lt;version>3.0.0-milestone1&lt;/version>
		&lt;/dependency>

	&lt;/dependencies>

	&lt;build>
		&lt;pluginManagement>
			&lt;plugins>
				&lt;plugin>
					&lt;groupId>org.apache.cxf&lt;/groupId>
					&lt;artifactId>cxf-codegen-plugin&lt;/artifactId>
					&lt;version>${org.apache.cxf.version}&lt;/version>
				&lt;/plugin>

				&lt;plugin>
					&lt;groupId>org.codehaus.mojo&lt;/groupId>
					&lt;artifactId>build-helper-maven-plugin&lt;/artifactId>
					&lt;executions>
						&lt;execution>
							&lt;id>add-source&lt;/id>
							&lt;phase>generate-sources&lt;/phase>
							&lt;goals>
								&lt;goal>add-source&lt;/goal>
							&lt;/goals>
							&lt;configuration>
								&lt;sources>
									&lt;source>${basedir}/target/generated/src/main/java&lt;/source>
								&lt;/sources>
							&lt;/configuration>
						&lt;/execution>
					&lt;/executions>
				&lt;/plugin>
				&lt;plugin>
					&lt;artifactId>maven-assembly-plugin&lt;/artifactId>
					&lt;configuration>
						&lt;descriptorRefs>
							&lt;descriptorRef>jar-with-dependencies&lt;/descriptorRef>
						&lt;/descriptorRefs>
					&lt;/configuration>
				&lt;/plugin>
				&lt;plugin>
					&lt;groupId>org.apache.maven.plugins&lt;/groupId>
					&lt;artifactId>maven-compiler-plugin&lt;/artifactId>
					&lt;configuration>
						&lt;source>1.7&lt;/source>
						&lt;target>1.7&lt;/target>
					&lt;/configuration>
				&lt;/plugin>
			&lt;/plugins>
		&lt;/pluginManagement>

		&lt;plugins>

			&lt;plugin>
				&lt;groupId>org.apache.cxf&lt;/groupId>
				&lt;artifactId>cxf-codegen-plugin&lt;/artifactId>
				&lt;executions>
					&lt;execution>
						&lt;id>generate-sources&lt;/id>
						&lt;phase>generate-sources&lt;/phase>
						&lt;configuration>
							&lt;sourceRoot>${basedir}/target/generated/src/main/java&lt;/sourceRoot>
							&lt;wsdlOptions>
								&lt;wsdlOption>
									&lt;wsdl>${wsg.url}&lt;/wsdl>
									&lt;extraargs>
										&lt;extraarg>-client&lt;/extraarg>
										&lt;extraarg>-exsh&lt;/extraarg>
										&lt;extraarg>true&lt;/extraarg>
									&lt;/extraargs>
								&lt;/wsdlOption>
							&lt;/wsdlOptions>
						&lt;/configuration>
						&lt;goals>
							&lt;goal>wsdl2java&lt;/goal>
						&lt;/goals>
					&lt;/execution>
				&lt;/executions>
			&lt;/plugin>

		&lt;/plugins>

	&lt;/build>
&lt;/project>

</pre>






<a name="AddressSoapServiceClient"></a>
<h3 align="left" style="font-size:30px"> Step 2:Create Web Service Client</h3>

<p1>Following Client application is used with the help of generated src using the above pom . Once everything is set up in eclipse you can see the generated src in target folder. Or you can run a maven build</p1>

<pre>


package com.smoothexample.pro;

/**
 * Please modify this class to meet your needs
 * This class is not complete
 */

import java.io.File;
import java.net.MalformedURLException;
import java.net.URL;

import javax.xml.namespace.QName;

import com.smoothexample.cxf.soap.ws.AddressSoapService;
import com.smoothexample.cxf.soap.ws.impl.AddressSoapServiceImplService;

public final class AddressSoapServiceClient {

    private static final QName SERVICE_NAME = new QName("http://impl.ws.soap.cxf.smoothexample.com/", "AddressSoapServiceImplService");

    private AddressSoapServiceClient() {
    }

    public static void main(String args[]) throws java.lang.Exception {
        URL wsdlURL = AddressSoapServiceImplService.WSDL_LOCATION;
        if (args.length > 0 && args[0] != null && !"".equals(args[0])) { 
            File wsdlFile = new File(args[0]);
            try {
                if (wsdlFile.exists()) {
                    wsdlURL = wsdlFile.toURI().toURL();
                } else {
                    wsdlURL = new URL(args[0]);
                }
            } catch (MalformedURLException e) {
                e.printStackTrace();
            }
        }
      
        AddressSoapServiceImplService ss = new AddressSoapServiceImplService(wsdlURL, SERVICE_NAME);
        AddressSoapService port = ss.getAddressSoapServiceImplPort();  
        
        {
        System.out.println("Invoking getAddress...");
        try {
            com.smoothexample.cxf.soap.ws.Address address = port.getAddress();
            System.out.println("getAddress.result=" + address.getCountry());

        } catch (Exception e) { 
            System.out.println("Expected exception: Exception has occurred.");
            System.out.println(e.toString());
        }
            }

        System.exit(0);
    }

}


</pre>


<a name="WSDL"></a>
<h3 align="left"> Generated WSDL</h3>
<p1> This wsdl is just for your reference, location of theWSDL is defined in  
<a href="#pom"> pom.xml</a> <br>
<pre>

&lt;wsdl:definitions xmlns:ns1="http://ws.soap.cxf.smoothexample.com/" xmlns:ns2="http://schemas.xmlsoap.org/soap/http" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="http://impl.ws.soap.cxf.smoothexample.com/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="AddressSoapServiceImplService" targetNamespace="http://impl.ws.soap.cxf.smoothexample.com/">
&lt;wsdl:import location="http://localhost:8080/apache-cxf-soap-ws/addressSoapService?wsdl=AddressSoapService.wsdl" namespace="http://ws.soap.cxf.smoothexample.com/">&lt;/wsdl:import>
&lt;wsdl:binding name="AddressSoapServiceImplServiceSoapBinding" type="ns1:AddressSoapService">
&lt;soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
&lt;wsdl:operation name="getAddress">
&lt;soap:operation soapAction="" style="document"/>
&lt;wsdl:input name="getAddress">
&lt;soap:body use="literal"/>
&lt;/wsdl:input>
&lt;wsdl:output name="getAddressResponse">
&lt;soap:body use="literal"/>
&lt;/wsdl:output>
&lt;wsdl:fault name="Exception">
&lt;soap:fault name="Exception" use="literal"/>
&lt;/wsdl:fault>
&lt;/wsdl:operation>
&lt;/wsdl:binding>
&lt;wsdl:service name="AddressSoapServiceImplService">
&lt;wsdl:port binding="tns:AddressSoapServiceImplServiceSoapBinding" name="AddressSoapServiceImplPort">
&lt;soap:address location="http://localhost:8080/apache-cxf-soap-ws/addressSoapService"/>
&lt;/wsdl:port>
&lt;/wsdl:service>
&lt;/wsdl:definitions>

</pre>



<a name="response"></a>
<h3 align="left"> Sample Response</h3>

<pre>
&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    &lt;soap:Body>
        &lt;ns2:getAddressResponse xmlns:ns2="http://ws.soap.cxf.smoothexample.com/">
            &lt;return>
                &lt;addressOptional>addressOptional&lt;/addressOptional>
                &lt;city>abcd&lt;/city>
                &lt;country>US&lt;/country>
                &lt;state>NJ&lt;/state>
                &lt;streetAddress>4800 abc Rd&lt;/streetAddress>
                &lt;zip>10001&lt;/zip>
            &lt;/return>
        &lt;/ns2:getAddressResponse>
    &lt;/soap:Body>
&lt;/soap:Envelope>
</pre>
  </div>
  
<!-- ---------------------------------------------------------------------------------------End #Center--------------------------------------------------------------- -->
  <br class="clearfloat" />
 
  

<!-- ---------------------------------------------------------------------------------------Start  #Footer--------------------------------------------------------------- -->

 <div id="footer">
    <p align="center">&copy; Copyright 2016. All Rights Reserved.</p>
  <!-- end #footer -->
  </div >
  <!-- ---------------------------------------------------------------------------------------End  #Footer--------------------------------------------------------------- -->
  
 
  
  
  </div>
  <!-- ---------------------------------------------------------------------------------------End  #Container--------------------------------------------------------------- -->
   
</body>
</html>
